Parfait — voici la **table de mapping détaillée** (endpoint → écran → service → hook → store/guard), **sans code** et strictement alignée sur le module tenant + doc API.

**Mapping API Tenant ↔ Frontend**

**Authentification**
- `POST /api/auth/login`
  - Écran: `LoginPage`
  - Service: `domains/auth/api/auth.service`
  - Hook: `domains/auth/hooks/useLogin`
  - Store: `store/useAuthStore` (accessToken + user)
  - Guard: redirection vers `/login` si non authentifié
- `POST /api/auth/refresh-token`
  - Écran: aucun (infra)
  - Service: `services/api` (interceptor)
  - Hook: infra (pas de hook UI)
  - Store: mise à jour accessToken
- `POST /api/auth/logout`
  - Écran: menu user / header
  - Service: `domains/auth/api/auth.service`
  - Hook: `domains/auth/hooks/useLogout`
  - Store: clear auth
- `POST /api/auth/activate`
  - Écran: `ResetPasswordPage` ou `ActivateAccountPage` (si écran dédié)
  - Service: `domains/auth/api/auth.service`
  - Hook: `domains/auth/hooks/useActivate`
- `POST /api/auth/forgot-password`
  - Écran: `ForgotPasswordPage`
  - Service: `domains/auth/api/auth.service`
  - Hook: `domains/auth/hooks/useForgotPassword`
- `GET /api/auth/reset-password`
  - Écran: `ResetPasswordPage` (validation token)
  - Service: `domains/auth/api/auth.service`
  - Hook: `domains/auth/hooks/useValidateResetToken`
- `POST /api/auth/reset-password`
  - Écran: `ResetPasswordPage`
  - Service: `domains/auth/api/auth.service`
  - Hook: `domains/auth/hooks/useResetPassword`

**Identité Publique (tenant)**
- `GET /api/public/identity/identity`
  - Écran: aucun (infra)
  - Service: `domains/tenant/api/tenant.service`
  - Hook: `domains/tenant/hooks/useTenantIdentity`
  - Store: `store/useTenantStore` (tenantId, companyName)
  - Usage: header branding, tenant context

**Utilisateur (self)**
- `GET /api/user/profile`
  - Écran: `ProfilePage`
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useMyProfile`
- `PUT /api/user/profile`
  - Écran: `ProfilePage`
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useUpdateProfile`
- `PUT /api/user/profile/password`
  - Écran: `ProfilePage` (section mot de passe)
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useUpdatePassword`
- `POST /api/user/profile/avatar`
  - Écran: `ProfilePage`
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useUploadAvatar`
- `DELETE /api/user/profile/avatar`
  - Écran: `ProfilePage`
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useDeleteAvatar`
- `GET /api/user/profile/documents`
  - Écran: `ProfilePage` (documents)
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useMyDocuments`
- `POST /api/user/profile/documents/{type}`
  - Écran: `ProfilePage` (upload doc)
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useUploadDocument`
- `DELETE /api/user/profile/documents/{documentId}`
  - Écran: `ProfilePage` (documents)
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useDeleteDocument`
- `GET /api/user/profile/documents/{documentId}/download`
  - Écran: `ProfilePage` (documents)
  - Service: `domains/users/api/user.service`
  - Hook: `domains/users/hooks/useDownloadDocument`

**Admin Users (RBAC)**
- `GET /api/admin/users`
  - Écran: `DashboardAdminPage` / `UserManagementPage`
  - Service: `domains/admin-users/api/adminUsers.service`
  - Hook: `domains/admin-users/hooks/useUsers`
  - Guard: permission `USER:READ`
- `POST /api/admin/users`
  - Écran: `UserCreateModal` / `UserForm`
  - Service: `domains/admin-users/api/adminUsers.service`
  - Hook: `domains/admin-users/hooks/useCreateUser`
  - Guard: permission `USER:CREATE`
- `PUT /api/admin/users/{userId}`
  - Écran: `UserEditModal`
  - Service: `domains/admin-users/api/adminUsers.service`
  - Hook: `domains/admin-users/hooks/useUpdateUser`
  - Guard: permission `USER:UPDATE`
- `DELETE /api/admin/users/{userId}`
  - Écran: `UserList`
  - Service: `domains/admin-users/api/adminUsers.service`
  - Hook: `domains/admin-users/hooks/useDeleteUser`
  - Guard: permission `USER:DELETE`
- `GET /api/admin/users/export/excel`
  - Écran: `UserManagementPage` (export)
  - Service: `domains/admin-users/api/adminUsers.service`
  - Hook: `domains/admin-users/hooks/useExportUsers`
  - Guard: permission `USER:READ`

**Admin Roles & Permissions**
- `GET /api/admin/roles`
  - Écran: `RolesPage`
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/useRoles`
  - Guard: permission `ROLE:READ`
- `GET /api/admin/roles/{id}`
  - Écran: `RoleDetails`
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/useRole`
- `POST /api/admin/roles`
  - Écran: `RoleCreateForm`
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/useCreateRole`
  - Guard: permission `ROLE:CREATE`
- `PUT /api/admin/roles/{id}`
  - Écran: `RoleEditForm`
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/useUpdateRole`
  - Guard: permission `ROLE:UPDATE`
- `DELETE /api/admin/roles/{id}`
  - Écran: `RoleList`
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/useDeleteRole`
  - Guard: permission `ROLE:DELETE`

**Permissions directes / assignation**
- `POST /api/admin/users/{userId}/roles`
  - Écran: `UserPermissionsPanel`
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/useAssignRole`
  - Guard: permission `USER:MANAGE_ACCESS`
- `DELETE /api/admin/users/{userId}/roles`
  - Écran: `UserPermissionsPanel`
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/useRevokeRole`
- `POST /api/admin/users/{userId}/permissions`
  - Écran: `UserPermissionsPanel`
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/useGrantPermission`
  - Guard: permission `USER:MANAGE_ACCESS`

**ReBAC Metadata**
- `GET /api/rebac/metadata/schema`
  - Écran: `RolesPage` (permissions tree)
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/usePermissionsSchema`
- `GET /api/rebac/metadata/schema/{scope}`
  - Écran: `RolesPage` (scope filter)
  - Service: `domains/roles/api/roles.service`
  - Hook: `domains/roles/hooks/usePermissionsSchemaByScope`

---

Si tu veux, je peux maintenant :
1. Produire un **plan fichier par fichier** basé sur ce mapping.  
2. Définir la **structure cible des dossiers** (auth, users, roles, tenant, services).  
3. Démarrer **Phase 1 Auth + Tenant infra** en patch.  

